<div class="list-countries-table-container" *ngIf="!isLoading">
  <div class="title">World Countries Table</div>
  <table mat-table matSort [dataSource]="dataSource">
    <ng-container matColumnDef="flag">
        <th mat-header-cell *matHeaderCellDef>Flag</th>
        <td mat-cell *matCellDef="let element">
          <img [src]="element.flag" [alt]="element.name + ' flag'" class="country-flag">
        </td>
    </ng-container>
  
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">Name</th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>
  
    <ng-container matColumnDef="capital">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header sortActionDescription="Sort by capital">Capital</th>
        <td mat-cell *matCellDef="let element"> {{element.capital}} </td>
    </ng-container>
  
    <ng-container matColumnDef="region">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header>Region</th>
        <td mat-cell *matCellDef="let element"> {{element.region}} </td>
    </ng-container>
  
    <ng-container matColumnDef="population">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header>Population</th>
        <td mat-cell *matCellDef="let element"> {{element.population | number}} </td>
    </ng-container>
  
    <ng-container matColumnDef="area">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header>Area (kmÂ²)</th>
        <td mat-cell *matCellDef="let element"> {{element.area | number}} </td>
    </ng-container>
  
    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button mat-button color="primary" (click)="viewCountryDetails(element)">View details</button>
        </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
    <!-- Empty row -->
    <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" [attr.colspan]="displayedColumns.length">
          No data found.
        </td>
    </tr>
  </table>

  <div *ngIf="isLoading" class="loading-spinner">
    <mat-spinner></mat-spinner>
    <p>Loading countries...</p>
  </div>
</div>

